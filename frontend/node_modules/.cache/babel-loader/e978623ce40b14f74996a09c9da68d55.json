{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport accountApi from 'apis/accountApi';\nexport const getUserInfo = createAsyncThunk('userInfo/getUserInfo', async () => {\n  try {\n    const apiRes = await accountApi.getUserInfo();\n    if (apiRes && apiRes.status === 200) {\n      return apiRes.data.user;\n    }\n    return {};\n  } catch (error) {\n    throw error;\n  }\n});\nconst userInfoSlice = createSlice({\n  name: 'userInfo',\n  initialState: {\n    isAuth: false,\n    name: '',\n    username: '',\n    avt: '',\n    favoriteList: [],\n    coin: 0\n  },\n  reducers: {\n    setAddFavorites(state, action) {\n      const {\n        word,\n        isAdd = true\n      } = action.payload;\n      if (isAdd) {\n        state.favoriteList.push(word);\n      } else {\n        state.favoriteList = state.favoriteList.filter(i => i !== word);\n      }\n    },\n    setUserCoin(state, action) {\n      state.coin = action.payload;\n    },\n    setUserAvt(state, action) {\n      state.avt = action.payload;\n    }\n  },\n  extraReducers: {\n    [getUserInfo.fulfilled]: (state, action) => {\n      const {\n        username,\n        name,\n        avt,\n        coin,\n        favoriteList\n      } = action.payload;\n      if (!username || username === '') {\n        state.isAuth = false;\n        return;\n      }\n      return {\n        isAuth: true,\n        username,\n        name,\n        avt,\n        coin,\n        favoriteList\n      };\n    }\n  }\n});\nconst {\n  reducer,\n  actions\n} = userInfoSlice;\nexport const {\n  setAddFavorites,\n  setUserCoin,\n  setUserAvt\n} = actions;\nexport default reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","accountApi","getUserInfo","apiRes","status","data","user","error","userInfoSlice","name","initialState","isAuth","username","avt","favoriteList","coin","reducers","setAddFavorites","state","action","word","isAdd","payload","push","filter","i","setUserCoin","setUserAvt","extraReducers","fulfilled","reducer","actions"],"sources":["D:/DuAn/thangdoan/dynonary-english/frontend/src/redux/slices/userInfo.slice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\r\nimport accountApi from 'apis/accountApi';\r\n\r\nexport const getUserInfo = createAsyncThunk(\r\n  'userInfo/getUserInfo',\r\n  async () => {\r\n    try {\r\n      const apiRes = await accountApi.getUserInfo();\r\n      if (apiRes && apiRes.status === 200) {\r\n        return apiRes.data.user;\r\n      }\r\n      return {};\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  },\r\n);\r\n\r\nconst userInfoSlice = createSlice({\r\n  name: 'userInfo',\r\n  initialState: {\r\n    isAuth: false,\r\n    name: '',\r\n    username: '',\r\n    avt: '',\r\n    favoriteList: [],\r\n    coin: 0,\r\n  },\r\n  reducers: {\r\n    setAddFavorites(state, action) {\r\n      const { word, isAdd = true } = action.payload;\r\n\r\n      if (isAdd) {\r\n        state.favoriteList.push(word);\r\n      } else {\r\n        state.favoriteList = state.favoriteList.filter((i) => i !== word);\r\n      }\r\n    },\r\n\r\n    setUserCoin(state, action) {\r\n      state.coin = action.payload;\r\n    },\r\n\r\n    setUserAvt(state, action) {\r\n      state.avt = action.payload;\r\n    },\r\n  },\r\n  extraReducers: {\r\n    [getUserInfo.fulfilled]: (state, action) => {\r\n      const { username, name, avt, coin, favoriteList } = action.payload;\r\n      if (!username || username === '') {\r\n        state.isAuth = false;\r\n        return;\r\n      }\r\n      return { isAuth: true, username, name, avt, coin, favoriteList };\r\n    },\r\n  },\r\n});\r\n\r\nconst { reducer, actions } = userInfoSlice;\r\nexport const { setAddFavorites, setUserCoin, setUserAvt } = actions;\r\nexport default reducer;\r\n"],"mappings":"AAAA,SAASA,gBAAgB,EAAEC,WAAW,QAAQ,kBAAkB;AAChE,OAAOC,UAAU,MAAM,iBAAiB;AAExC,OAAO,MAAMC,WAAW,GAAGH,gBAAgB,CACzC,sBAAsB,EACtB,YAAY;EACV,IAAI;IACF,MAAMI,MAAM,GAAG,MAAMF,UAAU,CAACC,WAAW,CAAC,CAAC;IAC7C,IAAIC,MAAM,IAAIA,MAAM,CAACC,MAAM,KAAK,GAAG,EAAE;MACnC,OAAOD,MAAM,CAACE,IAAI,CAACC,IAAI;IACzB;IACA,OAAO,CAAC,CAAC;EACX,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,MAAMA,KAAK;EACb;AACF,CACF,CAAC;AAED,MAAMC,aAAa,GAAGR,WAAW,CAAC;EAChCS,IAAI,EAAE,UAAU;EAChBC,YAAY,EAAE;IACZC,MAAM,EAAE,KAAK;IACbF,IAAI,EAAE,EAAE;IACRG,QAAQ,EAAE,EAAE;IACZC,GAAG,EAAE,EAAE;IACPC,YAAY,EAAE,EAAE;IAChBC,IAAI,EAAE;EACR,CAAC;EACDC,QAAQ,EAAE;IACRC,eAAeA,CAACC,KAAK,EAAEC,MAAM,EAAE;MAC7B,MAAM;QAAEC,IAAI;QAAEC,KAAK,GAAG;MAAK,CAAC,GAAGF,MAAM,CAACG,OAAO;MAE7C,IAAID,KAAK,EAAE;QACTH,KAAK,CAACJ,YAAY,CAACS,IAAI,CAACH,IAAI,CAAC;MAC/B,CAAC,MAAM;QACLF,KAAK,CAACJ,YAAY,GAAGI,KAAK,CAACJ,YAAY,CAACU,MAAM,CAAEC,CAAC,IAAKA,CAAC,KAAKL,IAAI,CAAC;MACnE;IACF,CAAC;IAEDM,WAAWA,CAACR,KAAK,EAAEC,MAAM,EAAE;MACzBD,KAAK,CAACH,IAAI,GAAGI,MAAM,CAACG,OAAO;IAC7B,CAAC;IAEDK,UAAUA,CAACT,KAAK,EAAEC,MAAM,EAAE;MACxBD,KAAK,CAACL,GAAG,GAAGM,MAAM,CAACG,OAAO;IAC5B;EACF,CAAC;EACDM,aAAa,EAAE;IACb,CAAC1B,WAAW,CAAC2B,SAAS,GAAG,CAACX,KAAK,EAAEC,MAAM,KAAK;MAC1C,MAAM;QAAEP,QAAQ;QAAEH,IAAI;QAAEI,GAAG;QAAEE,IAAI;QAAED;MAAa,CAAC,GAAGK,MAAM,CAACG,OAAO;MAClE,IAAI,CAACV,QAAQ,IAAIA,QAAQ,KAAK,EAAE,EAAE;QAChCM,KAAK,CAACP,MAAM,GAAG,KAAK;QACpB;MACF;MACA,OAAO;QAAEA,MAAM,EAAE,IAAI;QAAEC,QAAQ;QAAEH,IAAI;QAAEI,GAAG;QAAEE,IAAI;QAAED;MAAa,CAAC;IAClE;EACF;AACF,CAAC,CAAC;AAEF,MAAM;EAAEgB,OAAO;EAAEC;AAAQ,CAAC,GAAGvB,aAAa;AAC1C,OAAO,MAAM;EAAES,eAAe;EAAES,WAAW;EAAEC;AAAW,CAAC,GAAGI,OAAO;AACnE,eAAeD,OAAO"},"metadata":{},"sourceType":"module"}