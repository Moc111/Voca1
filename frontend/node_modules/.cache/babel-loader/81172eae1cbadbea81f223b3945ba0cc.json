{"ast":null,"code":"var _jsxFileName = \"D:\\\\DuAn\\\\thangdoan\\\\dynonary-english\\\\frontend\\\\src\\\\components\\\\Logout.js\",\n  _s = $RefreshSig$();\nimport accountApi from 'apis/accountApi';\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { setMessage } from 'redux/slices/message.slice';\nimport GlobalLoading from './UI/GlobalLoading';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Logout() {\n  _s();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const {\n    isAuth\n  } = useSelector(state => state.userInfo);\n  useEffect(() => {\n    if (!isAuth) {\n      history.goBack();\n      return;\n    }\n    (async function () {\n      try {\n        const apiRes = await accountApi.postLogout();\n        if (apiRes.status === 200) {\n          dispatch(setMessage({\n            type: 'success',\n            message: 'Đăng xuất thành công'\n          }));\n          window.location.href = history.location.pathname;\n        }\n      } catch (error) {\n        dispatch(setMessage({\n          type: 'error',\n          message: 'Đăng xuất thất bại, thử lại'\n        }));\n        history.goBack();\n      }\n    })();\n    return () => {};\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: isAuth && /*#__PURE__*/_jsxDEV(GlobalLoading, {\n      title: \"\\u0110ang \\u0111ang xu\\u1EA5t ...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 23\n    }, this)\n  }, void 0, false);\n}\n_s(Logout, \"f1Nt+O0I14AL1DrbW+y+w9ZCsME=\", false, function () {\n  return [useHistory, useDispatch, useSelector];\n});\n_c = Logout;\nexport default Logout;\nvar _c;\n$RefreshReg$(_c, \"Logout\");","map":{"version":3,"names":["accountApi","React","useEffect","useDispatch","useSelector","useHistory","setMessage","GlobalLoading","jsxDEV","_jsxDEV","Fragment","_Fragment","Logout","_s","history","dispatch","isAuth","state","userInfo","goBack","apiRes","postLogout","status","type","message","window","location","href","pathname","error","children","title","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/DuAn/thangdoan/dynonary-english/frontend/src/components/Logout.js"],"sourcesContent":["import accountApi from 'apis/accountApi';\r\nimport React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { setMessage } from 'redux/slices/message.slice';\r\nimport GlobalLoading from './UI/GlobalLoading';\r\n\r\nfunction Logout() {\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const { isAuth } = useSelector((state) => state.userInfo);\r\n\r\n  useEffect(() => {\r\n    if (!isAuth) {\r\n      history.goBack();\r\n      return;\r\n    }\r\n\r\n    (async function () {\r\n      try {\r\n        const apiRes = await accountApi.postLogout();\r\n        if (apiRes.status === 200) {\r\n          dispatch(\r\n            setMessage({ type: 'success', message: 'Đăng xuất thành công' }),\r\n          );\r\n          window.location.href = history.location.pathname;\r\n        }\r\n      } catch (error) {\r\n        dispatch(\r\n          setMessage({ type: 'error', message: 'Đăng xuất thất bại, thử lại' }),\r\n        );\r\n        history.goBack();\r\n      }\r\n    })();\r\n\r\n    return () => {};\r\n  }, []);\r\n\r\n  return <>{isAuth && <GlobalLoading title=\"Đang đang xuất ...\" />}</>;\r\n}\r\n\r\nexport default Logout;\r\n"],"mappings":";;AAAA,OAAOA,UAAU,MAAM,iBAAiB;AACxC,OAAOC,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,SAASC,UAAU,QAAQ,kBAAkB;AAC7C,SAASC,UAAU,QAAQ,4BAA4B;AACvD,OAAOC,aAAa,MAAM,oBAAoB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAE/C,SAASC,MAAMA,CAAA,EAAG;EAAAC,EAAA;EAChB,MAAMC,OAAO,GAAGT,UAAU,CAAC,CAAC;EAC5B,MAAMU,QAAQ,GAAGZ,WAAW,CAAC,CAAC;EAC9B,MAAM;IAAEa;EAAO,CAAC,GAAGZ,WAAW,CAAEa,KAAK,IAAKA,KAAK,CAACC,QAAQ,CAAC;EAEzDhB,SAAS,CAAC,MAAM;IACd,IAAI,CAACc,MAAM,EAAE;MACXF,OAAO,CAACK,MAAM,CAAC,CAAC;MAChB;IACF;IAEA,CAAC,kBAAkB;MACjB,IAAI;QACF,MAAMC,MAAM,GAAG,MAAMpB,UAAU,CAACqB,UAAU,CAAC,CAAC;QAC5C,IAAID,MAAM,CAACE,MAAM,KAAK,GAAG,EAAE;UACzBP,QAAQ,CACNT,UAAU,CAAC;YAAEiB,IAAI,EAAE,SAAS;YAAEC,OAAO,EAAE;UAAuB,CAAC,CACjE,CAAC;UACDC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAGb,OAAO,CAACY,QAAQ,CAACE,QAAQ;QAClD;MACF,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdd,QAAQ,CACNT,UAAU,CAAC;UAAEiB,IAAI,EAAE,OAAO;UAAEC,OAAO,EAAE;QAA8B,CAAC,CACtE,CAAC;QACDV,OAAO,CAACK,MAAM,CAAC,CAAC;MAClB;IACF,CAAC,EAAE,CAAC;IAEJ,OAAO,MAAM,CAAC,CAAC;EACjB,CAAC,EAAE,EAAE,CAAC;EAEN,oBAAOV,OAAA,CAAAE,SAAA;IAAAmB,QAAA,EAAGd,MAAM,iBAAIP,OAAA,CAACF,aAAa;MAACwB,KAAK,EAAC;IAAoB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE;EAAC,gBAAG,CAAC;AACtE;AAACtB,EAAA,CAhCQD,MAAM;EAAA,QACGP,UAAU,EACTF,WAAW,EACTC,WAAW;AAAA;AAAAgC,EAAA,GAHvBxB,MAAM;AAkCf,eAAeA,MAAM;AAAC,IAAAwB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module"}