{"ast":null,"code":"var _jsxFileName = \"D:\\\\DuAn\\\\TKwebsite3\\\\dynonary-english\\\\frontend\\\\src\\\\components\\\\PlayGames\\\\WordMatch\\\\data.js\",\n  _s = $RefreshSig$();\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport PlayIcon from '@material-ui/icons/PlayCircleFilledWhite';\nimport gameApi from 'apis/gameApi';\nimport GlobalLoading from 'components/UI/GlobalLoading';\nimport InputCustom from 'components/UI/InputCustom';\nimport WordPack from 'components/UI/WordPack';\nimport React, { useRef, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { setMessage } from 'redux/slices/message.slice';\nimport WordMatchGame from '.';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst MAX_LEN_WORD_PACK = 500;\nfunction WordMatchGameData() {\n  _s();\n  // 0 - choose word pack, 1 - get pack, 2 - done\n  const [state, setState] = useState(0);\n  const [wordPack, setWordPack] = useState([]);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const nQuestion = useRef(50);\n  const getWordPackage = async ({\n    type,\n    topics,\n    level,\n    specialty\n  }) => {\n    try {\n      setState(1);\n      const n = nQuestion.current < 0 || nQuestion.current > MAX_LEN_WORD_PACK ? 100 : nQuestion.current;\n      const apiRes = await gameApi.getWordPackWordMatch(type, level, specialty, topics, n);\n      if (apiRes.status === 200) {\n        const {\n          wordPack = []\n        } = apiRes.data;\n        if (wordPack.length === 0) {\n          dispatch(setMessage({\n            type: 'warning',\n            message: 'Rất xin lỗi, gói từ vựng hiện tại không đủ. Vui lòng thử lại sao',\n            duration: 3000\n          }));\n          setState(0);\n          return;\n        }\n        setWordPack(wordPack);\n        setState(2);\n        return;\n      }\n      dispatch(setMessage({\n        type: 'warning',\n        message: 'Lấy gói từ vựng thất bại, thử lại !'\n      }));\n      setState(0);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      const message = ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Lấy gói từ vựng thất bại, thử lại !';\n      dispatch(setMessage({\n        type: 'error',\n        message\n      }));\n      setState(0);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: state === 0 ? /*#__PURE__*/_jsxDEV(WordPack, {\n      open: true,\n      onChoose: getWordPackage,\n      onCancel: () => history.goBack(),\n      topicMultiples: true,\n      title: \"L\\u1EF1a ch\\u1ECDn g\\xF3i t\\u1EEB v\\u1EF1ng\",\n      okBtnText: \"B\\u1EAFt \\u0111\\u1EA7u\",\n      cancelBtnText: \"Quay l\\u1EA1i\",\n      cancelBtnProps: {\n        startIcon: /*#__PURE__*/_jsxDEV(ArrowBackIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 40\n        }, this)\n      },\n      okBtnProps: {\n        startIcon: /*#__PURE__*/_jsxDEV(PlayIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 36\n        }, this)\n      },\n      children: /*#__PURE__*/_jsxDEV(InputCustom, {\n        type: \"number\",\n        inputProps: {\n          min: 5,\n          max: MAX_LEN_WORD_PACK,\n          defaultValue: 50\n        },\n        placeholder: \"Nh\\u1EADp s\\u1ED1 c\\xE2u\",\n        label: \"S\\u1ED1 c\\xE2u\",\n        className: \"w-100\",\n        onChange: e => nQuestion.current = e.target.value\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this) : state === 1 ? /*#__PURE__*/_jsxDEV(GlobalLoading, {\n      title: \"\\u0110ang t\\u1EA3i g\\xF3i c\\xE2u h\\u1ECFi ...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(WordMatchGame, {\n      list: wordPack\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n_s(WordMatchGameData, \"vBv37T7cniNE8j6T4M1IbdLoTV8=\", false, function () {\n  return [useDispatch, useHistory];\n});\n_c = WordMatchGameData;\nexport default WordMatchGameData;\nvar _c;\n$RefreshReg$(_c, \"WordMatchGameData\");","map":{"version":3,"names":["ArrowBackIcon","PlayIcon","gameApi","GlobalLoading","InputCustom","WordPack","React","useRef","useState","useDispatch","useHistory","setMessage","WordMatchGame","jsxDEV","_jsxDEV","Fragment","_Fragment","MAX_LEN_WORD_PACK","WordMatchGameData","_s","state","setState","wordPack","setWordPack","dispatch","history","nQuestion","getWordPackage","type","topics","level","specialty","n","current","apiRes","getWordPackWordMatch","status","data","length","message","duration","error","_error$response","_error$response$data","response","children","open","onChoose","onCancel","goBack","topicMultiples","title","okBtnText","cancelBtnText","cancelBtnProps","startIcon","fileName","_jsxFileName","lineNumber","columnNumber","okBtnProps","inputProps","min","max","defaultValue","placeholder","label","className","onChange","e","target","value","list","_c","$RefreshReg$"],"sources":["D:/DuAn/TKwebsite3/dynonary-english/frontend/src/components/PlayGames/WordMatch/data.js"],"sourcesContent":["import ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport PlayIcon from '@material-ui/icons/PlayCircleFilledWhite';\r\nimport gameApi from 'apis/gameApi';\r\nimport GlobalLoading from 'components/UI/GlobalLoading';\r\nimport InputCustom from 'components/UI/InputCustom';\r\nimport WordPack from 'components/UI/WordPack';\r\nimport React, { useRef, useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { setMessage } from 'redux/slices/message.slice';\r\nimport WordMatchGame from '.';\r\nconst MAX_LEN_WORD_PACK = 500;\r\n\r\nfunction WordMatchGameData() {\r\n  // 0 - choose word pack, 1 - get pack, 2 - done\r\n  const [state, setState] = useState(0);\r\n  const [wordPack, setWordPack] = useState([]);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const nQuestion = useRef(50);\r\n\r\n  const getWordPackage = async ({ type, topics, level, specialty }) => {\r\n    try {\r\n      setState(1);\r\n      const n =\r\n        nQuestion.current < 0 || nQuestion.current > MAX_LEN_WORD_PACK\r\n          ? 100\r\n          : nQuestion.current;\r\n\r\n      const apiRes = await gameApi.getWordPackWordMatch(\r\n        type,\r\n        level,\r\n        specialty,\r\n        topics,\r\n        n,\r\n      );\r\n      if (apiRes.status === 200) {\r\n        const { wordPack = [] } = apiRes.data;\r\n        if (wordPack.length === 0) {\r\n          dispatch(\r\n            setMessage({\r\n              type: 'warning',\r\n              message:\r\n                'Rất xin lỗi, gói từ vựng hiện tại không đủ. Vui lòng thử lại sao',\r\n              duration: 3000,\r\n            }),\r\n          );\r\n          setState(0);\r\n          return;\r\n        }\r\n\r\n        setWordPack(wordPack);\r\n        setState(2);\r\n        return;\r\n      }\r\n\r\n      dispatch(\r\n        setMessage({\r\n          type: 'warning',\r\n          message: 'Lấy gói từ vựng thất bại, thử lại !',\r\n        }),\r\n      );\r\n\r\n      setState(0);\r\n    } catch (error) {\r\n      const message =\r\n        error.response?.data?.message || 'Lấy gói từ vựng thất bại, thử lại !';\r\n      dispatch(setMessage({ type: 'error', message }));\r\n      setState(0);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {state === 0 ? (\r\n        <WordPack\r\n          open={true}\r\n          onChoose={getWordPackage}\r\n          onCancel={() => history.goBack()}\r\n          topicMultiples={true}\r\n          title=\"Lựa chọn gói từ vựng\"\r\n          okBtnText=\"Bắt đầu\"\r\n          cancelBtnText=\"Quay lại\"\r\n          cancelBtnProps={{ startIcon: <ArrowBackIcon /> }}\r\n          okBtnProps={{ startIcon: <PlayIcon /> }}>\r\n          <InputCustom\r\n            type=\"number\"\r\n            inputProps={{\r\n              min: 5,\r\n              max: MAX_LEN_WORD_PACK,\r\n              defaultValue: 50,\r\n            }}\r\n            placeholder=\"Nhập số câu\"\r\n            label=\"Số câu\"\r\n            className=\"w-100\"\r\n            onChange={(e) => (nQuestion.current = e.target.value)}\r\n          />\r\n        </WordPack>\r\n      ) : state === 1 ? (\r\n        <GlobalLoading title=\"Đang tải gói câu hỏi ...\" />\r\n      ) : (\r\n        <WordMatchGame list={wordPack} />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default WordMatchGameData;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}