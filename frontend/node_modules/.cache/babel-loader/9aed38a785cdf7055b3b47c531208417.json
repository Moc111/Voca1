{"ast":null,"code":"var _jsxFileName = \"D:\\\\DuAn\\\\TKwebsite3\\\\dynonary-english\\\\frontend\\\\src\\\\components\\\\Login\\\\data.js\",\n  _s = $RefreshSig$();\nimport accountApi from 'apis/accountApi';\nimport { UX } from 'constant';\nimport React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { setMessage } from 'redux/slices/message.slice';\nimport Login from './index';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction LoginData() {\n  _s();\n  const [loading, setLoading] = useState(false);\n  const dispatch = useDispatch();\n  const handleLogin = async account => {\n    try {\n      setLoading(true);\n      const {\n        email,\n        password\n      } = account;\n      const apiRes = await accountApi.postLogin(email.toLowerCase(), password);\n      if (apiRes && apiRes.status === 200) {\n        dispatch(setMessage({\n          message: 'Đăng nhập thành công',\n          type: 'success'\n        }));\n        setTimeout(() => {\n          window.location.href = '/';\n        }, UX.DELAY_TIME);\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      const message = ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Thất bại, thử lại !';\n      dispatch(setMessage({\n        message,\n        type: 'error'\n      }));\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Login, {\n    onLogin: handleLogin,\n    loading: loading\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 10\n  }, this);\n}\n_s(LoginData, \"sKyeo5OvQCyvMwDC72axs3+148I=\", false, function () {\n  return [useDispatch];\n});\n_c = LoginData;\nexport default LoginData;\nvar _c;\n$RefreshReg$(_c, \"LoginData\");","map":{"version":3,"names":["accountApi","UX","React","useState","useDispatch","setMessage","Login","jsxDEV","_jsxDEV","LoginData","_s","loading","setLoading","dispatch","handleLogin","account","email","password","apiRes","postLogin","toLowerCase","status","message","type","setTimeout","window","location","href","DELAY_TIME","error","_error$response","_error$response$data","response","data","onLogin","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/DuAn/TKwebsite3/dynonary-english/frontend/src/components/Login/data.js"],"sourcesContent":["import accountApi from 'apis/accountApi';\r\nimport { UX } from 'constant';\r\nimport React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { setMessage } from 'redux/slices/message.slice';\r\nimport Login from './index';\r\n\r\nfunction LoginData() {\r\n  const [loading, setLoading] = useState(false);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleLogin = async (account) => {\r\n    try {\r\n      setLoading(true);\r\n      const { email, password } = account;\r\n\r\n      const apiRes = await accountApi.postLogin(email.toLowerCase(), password);\r\n      if (apiRes && apiRes.status === 200) {\r\n        dispatch(\r\n          setMessage({ message: 'Đăng nhập thành công', type: 'success' }),\r\n        );\r\n\r\n        setTimeout(() => {\r\n          window.location.href = '/';\r\n        }, UX.DELAY_TIME);\r\n      }\r\n    } catch (error) {\r\n      const message = error.response?.data?.message || 'Thất bại, thử lại !';\r\n      dispatch(setMessage({ message, type: 'error' }));\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return <Login onLogin={handleLogin} loading={loading} />;\r\n}\r\n\r\nexport default LoginData;\r\n"],"mappings":";;AAAA,OAAOA,UAAU,MAAM,iBAAiB;AACxC,SAASC,EAAE,QAAQ,UAAU;AAC7B,OAAOC,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,UAAU,QAAQ,4BAA4B;AACvD,OAAOC,KAAK,MAAM,SAAS;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE5B,SAASC,SAASA,CAAA,EAAG;EAAAC,EAAA;EACnB,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAMU,QAAQ,GAAGT,WAAW,CAAC,CAAC;EAE9B,MAAMU,WAAW,GAAG,MAAOC,OAAO,IAAK;IACrC,IAAI;MACFH,UAAU,CAAC,IAAI,CAAC;MAChB,MAAM;QAAEI,KAAK;QAAEC;MAAS,CAAC,GAAGF,OAAO;MAEnC,MAAMG,MAAM,GAAG,MAAMlB,UAAU,CAACmB,SAAS,CAACH,KAAK,CAACI,WAAW,CAAC,CAAC,EAAEH,QAAQ,CAAC;MACxE,IAAIC,MAAM,IAAIA,MAAM,CAACG,MAAM,KAAK,GAAG,EAAE;QACnCR,QAAQ,CACNR,UAAU,CAAC;UAAEiB,OAAO,EAAE,sBAAsB;UAAEC,IAAI,EAAE;QAAU,CAAC,CACjE,CAAC;QAEDC,UAAU,CAAC,MAAM;UACfC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,GAAG;QAC5B,CAAC,EAAE1B,EAAE,CAAC2B,UAAU,CAAC;MACnB;IACF,CAAC,CAAC,OAAOC,KAAK,EAAE;MAAA,IAAAC,eAAA,EAAAC,oBAAA;MACd,MAAMT,OAAO,GAAG,EAAAQ,eAAA,GAAAD,KAAK,CAACG,QAAQ,cAAAF,eAAA,wBAAAC,oBAAA,GAAdD,eAAA,CAAgBG,IAAI,cAAAF,oBAAA,uBAApBA,oBAAA,CAAsBT,OAAO,KAAI,qBAAqB;MACtET,QAAQ,CAACR,UAAU,CAAC;QAAEiB,OAAO;QAAEC,IAAI,EAAE;MAAQ,CAAC,CAAC,CAAC;MAChDX,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,oBAAOJ,OAAA,CAACF,KAAK;IAAC4B,OAAO,EAAEpB,WAAY;IAACH,OAAO,EAAEA;EAAQ;IAAAwB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AAC1D;AAAC5B,EAAA,CA3BQD,SAAS;EAAA,QAECL,WAAW;AAAA;AAAAmC,EAAA,GAFrB9B,SAAS;AA6BlB,eAAeA,SAAS;AAAC,IAAA8B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module"}